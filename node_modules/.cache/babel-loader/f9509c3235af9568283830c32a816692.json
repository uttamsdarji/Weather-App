{"ast":null,"code":"var _jsxFileName = \"/Users/uttamdarji/Desktop/weather/src/components/LocationSearchBar/LocationSearchBar.js\";\nimport React from 'react';\n\nclass LocationSearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      if (e.target.value.length > 0) {\n        this.setState({\n          queryText: e.target.value\n        });\n        this.fetchDataByText(e.target.value);\n      } else {\n        this.setState({\n          data: null,\n          queryText: \"\"\n        });\n      }\n    };\n\n    this.handleClick = e => {\n      let target = e.target.getAttribute('indexkey');\n      console.log(target);\n      let latitude = target.geometry.coordinates[1];\n      let longitude = target.geometry.coordinates[0];\n      this.props.setLatLong(latitude, longitude);\n      this.setState({\n        queryText: target.text\n      });\n    };\n\n    this.fetchDataByText = queryText => {\n      const url = 'https://api.mapbox.com/geocoding/v5/mapbox.places/' + queryText + '.json?access_token=pk.eyJ1IjoidXNkYXJqaSIsImEiOiJjanhvbnNqY2QwODczM21ybnJybGUzM3l0In0.hUTTdbflff_BO_c7S3MldQ';\n      fetch(url).then(results => results.json()).then(sdata => {\n        this.setState({\n          data: sdata\n        });\n      });\n    };\n\n    this.state = {\n      data: null,\n      queryText: \"\"\n    };\n  }\n\n  render() {\n    let options = [];\n    const coordinates = {\n      latitude: \"\",\n      longitude: \"\"\n    };\n\n    if (this.state.data) {\n      for (let i = 0; i < this.state.data.features.length; i++) {\n        coordinates.latitude = this.state.data.features[i].geometry.coordinates[0];\n        coordinates.longitude = this.state.data.features[i].geometry.coordinates[1];\n        let indexKey = this.state.data.features[i]; //console.log(indexKey);\n\n        options[i] = React.createElement(\"li\", {\n          indexkey: indexKey,\n          key: this.state.data.features[i].id,\n          onClick: this.handleClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, this.state.data.features[i][\"place_name\"]);\n      }\n    }\n\n    return React.createElement(\"div\", {\n      className: \"locationSearchBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.handleChange,\n      value: this.state.queryText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, options));\n  }\n\n}\n\nexport default LocationSearchBar;","map":{"version":3,"sources":["/Users/uttamdarji/Desktop/weather/src/components/LocationSearchBar/LocationSearchBar.js"],"names":["React","LocationSearchBar","Component","constructor","props","handleChange","e","target","value","length","setState","queryText","fetchDataByText","data","handleClick","getAttribute","console","log","latitude","geometry","coordinates","longitude","setLatLong","text","url","fetch","then","results","json","sdata","state","render","options","i","features","indexKey","id"],"mappings":"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","sourcesContent":["import React from 'react';\n\n\nclass LocationSearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data : null,\n      queryText: \"\",\n    };\n  }\n  \n  handleChange = (e) => {\n    if(e.target.value.length>0) {\n      this.setState({\n        queryText: e.target.value,\n      });\n      this.fetchDataByText(e.target.value);\n    } else {\n      this.setState({\n        data: null,\n        queryText: \"\",\n      });\n    }\n  };\n\n  handleClick = (e) => {\n    let target= e.target.getAttribute('indexkey');\n    console.log(target);\n    let latitude = target.geometry.coordinates[1];\n    let longitude = target.geometry.coordinates[0];\n    this.props.setLatLong(latitude,longitude);\n    this.setState({\n      queryText: target.text,\n    });\n  }\n\n  fetchDataByText = (queryText) => {\n    const url = 'https://api.mapbox.com/geocoding/v5/mapbox.places/'+queryText+'.json?access_token=pk.eyJ1IjoidXNkYXJqaSIsImEiOiJjanhvbnNqY2QwODczM21ybnJybGUzM3l0In0.hUTTdbflff_BO_c7S3MldQ';\n    fetch(url)\n    .then(results => results.json())\n    .then((sdata) => {\n      this.setState({\n        data : sdata,\n      });\n    });\n  }\n\n  render() {\n    let options=[];\n    const coordinates = {\n      latitude: \"\",\n      longitude: \"\"\n    };\n    if(this.state.data){\n    \n    for(let i=0; i<this.state.data.features.length; i++) {\n      coordinates.latitude=this.state.data.features[i].geometry.coordinates[0];\n      coordinates.longitude=this.state.data.features[i].geometry.coordinates[1];\n      let indexKey= this.state.data.features[i];\n      //console.log(indexKey);\n      options[i]=<li indexkey={indexKey} key={this.state.data.features[i].id} onClick={this.handleClick}>{this.state.data.features[i][\"place_name\"]}</li>\n    } \n  }\n  \n    return (\n      <div className=\"locationSearchBar\">\n        <input type=\"text\" onChange={this.handleChange} value={this.state.queryText} />\n        <ul>\n          {options}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default LocationSearchBar;"]},"metadata":{},"sourceType":"module"}