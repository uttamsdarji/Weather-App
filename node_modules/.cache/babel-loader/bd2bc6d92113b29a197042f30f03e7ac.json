{"ast":null,"code":"var _jsxFileName = \"/Users/uttamdarji/Desktop/weather/src/components/LocationSearchBar/LocationSearchBar.js\";\nimport React from 'react';\n\nclass LocationSearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      if (e.target.value.length > 0) {\n        this.setState({\n          queryText: e.target.value,\n          showList: true\n        });\n        this.fetchDataByText(e.target.value);\n      } else {\n        this.setState({\n          data: null,\n          queryText: \"\"\n        });\n      }\n    };\n\n    this.handleClick = e => {\n      //let target= e.target.getAttribute('indexkey');\n      // for(let key in target){\n      // console.log(target[key]);}\n      let latitude = e.target.getAttribute('latitude');\n      let longitude = e.target.getAttribute('longitude');\n      this.props.setLatLong(latitude, longitude);\n      this.setState({\n        queryText: e.target.getAttribute('text'),\n        showList: false\n      }); //document.getElementsByClassName(\"searchList\").style.display = 'none';\n    };\n\n    this.fetchDataByText = queryText => {\n      const url = 'https://api.mapbox.com/geocoding/v5/mapbox.places/' + queryText + '.json?access_token=pk.eyJ1IjoidXNkYXJqaSIsImEiOiJjanhvbnNqY2QwODczM21ybnJybGUzM3l0In0.hUTTdbflff_BO_c7S3MldQ';\n      fetch(url).then(results => results.json()).then(sdata => {\n        this.setState({\n          data: sdata\n        });\n      });\n    };\n\n    this.state = {\n      data: null,\n      queryText: \"\",\n      showList: false\n    };\n  } // handleList =() => {\n  //   this.setState({\n  //     showList: true,\n  //   })\n  // }\n\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"locationSearchBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.handleChange,\n      value: this.state.queryText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), this.state.showList && React.createElement(\"ul\", {\n      className: \"searchList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, this.state.data && this.state.data.features && this.state.data.features.length > 0 && this.state.data.features.map((data, index) => {\n      return React.createElement(\"li\", {\n        key: index,\n        className: \"options\",\n        latitude: data.geometry.coordinates[1],\n        longitude: data.geometry.coordinates[0],\n        text: data.text,\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, data[\"place_name\"]);\n    })));\n  }\n\n}\n\nexport default LocationSearchBar;","map":{"version":3,"sources":["/Users/uttamdarji/Desktop/weather/src/components/LocationSearchBar/LocationSearchBar.js"],"names":["React","LocationSearchBar","Component","constructor","props","handleChange","e","target","value","length","setState","queryText","showList","fetchDataByText","data","handleClick","latitude","getAttribute","longitude","setLatLong","url","fetch","then","results","json","sdata","state","render","features","map","index","geometry","coordinates","text"],"mappings":"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","sourcesContent":["import React from 'react';\n\n\nclass LocationSearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data : null,\n      queryText: \"\",\n      showList: false,\n    };\n  }\n\n  // handleList =() => {\n  //   this.setState({\n  //     showList: true,\n  //   })\n  // }\n\n  handleChange = (e) => {\n    if(e.target.value.length>0) {\n      this.setState({\n        queryText: e.target.value,\n        showList: true,\n      });\n      this.fetchDataByText(e.target.value);\n    } else {\n      this.setState({\n        data: null,\n        queryText: \"\",\n      });\n    }\n  };\n\n  handleClick = (e) => {\n    //let target= e.target.getAttribute('indexkey');\n    // for(let key in target){\n    // console.log(target[key]);}\n    let latitude = e.target.getAttribute('latitude');\n    let longitude = e.target.getAttribute('longitude');\n    this.props.setLatLong(latitude,longitude);\n    this.setState({\n      queryText: e.target.getAttribute('text'),\n      showList: false,\n    });\n    //document.getElementsByClassName(\"searchList\").style.display = 'none';\n  }\n\n  fetchDataByText = (queryText) => {\n    const url = 'https://api.mapbox.com/geocoding/v5/mapbox.places/'+queryText+'.json?access_token=pk.eyJ1IjoidXNkYXJqaSIsImEiOiJjanhvbnNqY2QwODczM21ybnJybGUzM3l0In0.hUTTdbflff_BO_c7S3MldQ';\n    fetch(url)\n    .then(results => results.json())\n    .then((sdata) => {\n      this.setState({\n        data : sdata,\n      });\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"locationSearchBar\">\n        <input type=\"text\" onChange={this.handleChange} value={this.state.queryText} />\n        {this.state.showList &&\n        <ul className=\"searchList\">\n          {/* {options} */}\n          {this.state.data && this.state.data.features && this.state.data.features.length > 0 &&\n            this.state.data.features.map((data, index) => {\n              return (\n                <li  key={index}\n                    className=\"options\"\n                    latitude={data.geometry.coordinates[1]}\n                    longitude={data.geometry.coordinates[0]}\n                    text={data.text}\n                    onClick={this.handleClick}\n                  >\n                  {data[\"place_name\"]}\n                </li>\n              )\n            })\n          }\n        </ul>\n        }\n      </div>\n    );\n  }\n}\n\n\n\nexport default LocationSearchBar;"]},"metadata":{},"sourceType":"module"}