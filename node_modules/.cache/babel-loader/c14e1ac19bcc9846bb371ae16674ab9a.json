{"ast":null,"code":"var _jsxFileName = \"/Users/uttamdarji/Desktop/weather/src/components/LocationSearchBar/LocationSearchBar.js\";\nimport React from 'react';\n\nclass LocationSearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      if (e.target.value.length >= 1) {\n        this.setState({\n          queryText: e.target.value\n        });\n        this.fetchDataByZip(e.target.value);\n      }\n    };\n\n    this.fetchDataByZip = queryText => {\n      const url = 'https://api.mapbox.com/geocoding/v5/mapbox.places/' + queryText + '.json?access_token=pk.eyJ1IjoidXNkYXJqaSIsImEiOiJjanhvbnNqY2QwODczM21ybnJybGUzM3l0In0.hUTTdbflff_BO_c7S3MldQ';\n      fetch(url).then(results => results.json()).then(sdata => {\n        this.setState({\n          data: sdata\n        });\n      });\n    };\n\n    this.state = {\n      data: null,\n      queryText: \"\"\n    };\n  }\n\n  render() {\n    let options = [];\n    console.log(Boolean(this.state.data));\n\n    if (this.state.data) {\n      for (let i = 0; i < this.state.data.features; i++) {\n        options[i] = this.state.data.features[i][\"place_name\"];\n        console.log(options[i]);\n        console.log(1);\n      }\n    } //console.log(Boolean(this.state.data));\n\n\n    return React.createElement(\"div\", {\n      className: \"locationSearchBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Location\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, this.state.data && this.state.data.features[0][\"place_name\"])));\n  }\n\n}\n\nexport default LocationSearchBar;","map":{"version":3,"sources":["/Users/uttamdarji/Desktop/weather/src/components/LocationSearchBar/LocationSearchBar.js"],"names":["React","LocationSearchBar","Component","constructor","props","handleChange","e","target","value","length","setState","queryText","fetchDataByZip","url","fetch","then","results","json","sdata","data","state","render","options","console","log","Boolean","i","features"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAGA,MAAMC,iBAAN,SAAgCD,KAAK,CAACE,SAAtC,CAAgD;AAC9CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAQnBC,YARmB,GAQHC,CAAD,IAAO;AACpB,UAAGA,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeC,MAAf,IAAuB,CAA1B,EAA6B;AAC3B,aAAKC,QAAL,CAAc;AACZC,UAAAA,SAAS,EAAEL,CAAC,CAACC,MAAF,CAASC;AADR,SAAd;AAGA,aAAKI,cAAL,CAAoBN,CAAC,CAACC,MAAF,CAASC,KAA7B;AACD;AACF,KAfkB;;AAAA,SAiBnBI,cAjBmB,GAiBDD,SAAD,IAAe;AAC9B,YAAME,GAAG,GAAG,uDAAqDF,SAArD,GAA+D,8GAA3E;AACAG,MAAAA,KAAK,CAACD,GAAD,CAAL,CACCE,IADD,CACMC,OAAO,IAAIA,OAAO,CAACC,IAAR,EADjB,EAECF,IAFD,CAEOG,KAAD,IAAW;AACf,aAAKR,QAAL,CAAc;AACZS,UAAAA,IAAI,EAAGD;AADK,SAAd;AAGD,OAND;AAOD,KA1BkB;;AAEjB,SAAKE,KAAL,GAAa;AACXD,MAAAA,IAAI,EAAG,IADI;AAEXR,MAAAA,SAAS,EAAE;AAFA,KAAb;AAID;;AAsBDU,EAAAA,MAAM,GAAG;AACP,QAAIC,OAAO,GAAC,EAAZ;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYC,OAAO,CAAC,KAAKL,KAAL,CAAWD,IAAZ,CAAnB;;AACA,QAAG,KAAKC,KAAL,CAAWD,IAAd,EAAmB;AACnB,WAAI,IAAIO,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAC,KAAKN,KAAL,CAAWD,IAAX,CAAgBQ,QAA/B,EAAyCD,CAAC,EAA1C,EAA8C;AAC5CJ,QAAAA,OAAO,CAACI,CAAD,CAAP,GAAW,KAAKN,KAAL,CAAWD,IAAX,CAAgBQ,QAAhB,CAAyBD,CAAzB,EAA4B,YAA5B,CAAX;AACAH,QAAAA,OAAO,CAACC,GAAR,CAAYF,OAAO,CAACI,CAAD,CAAnB;AACAH,QAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ;AACD;AACF,KATQ,CAUT;;;AACE,WACE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,WAAW,EAAC,UAA/B;AAA0C,MAAA,QAAQ,EAAE,KAAKnB,YAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKe,KAAL,CAAWD,IAAX,IAAmB,KAAKC,KAAL,CAAWD,IAAX,CAAgBQ,QAAhB,CAAyB,CAAzB,EAA4B,YAA5B,CADtB,CADF,CAFF,CADF;AAUD;;AAlD6C;;AAqDhD,eAAe1B,iBAAf","sourcesContent":["import React from 'react';\n\n\nclass LocationSearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data : null,\n      queryText: \"\",\n    };\n  }\n  \n  handleChange = (e) => {\n    if(e.target.value.length>=1) {\n      this.setState({\n        queryText: e.target.value,\n      });\n      this.fetchDataByZip(e.target.value);\n    }\n  };\n\n  fetchDataByZip = (queryText) => {\n    const url = 'https://api.mapbox.com/geocoding/v5/mapbox.places/'+queryText+'.json?access_token=pk.eyJ1IjoidXNkYXJqaSIsImEiOiJjanhvbnNqY2QwODczM21ybnJybGUzM3l0In0.hUTTdbflff_BO_c7S3MldQ';\n    fetch(url)\n    .then(results => results.json())\n    .then((sdata) => {\n      this.setState({\n        data : sdata,\n      });\n    });\n  }\n\n  render() {\n    let options=[];\n    console.log(Boolean(this.state.data));\n    if(this.state.data){\n    for(let i=0; i<this.state.data.features; i++) {\n      options[i]=this.state.data.features[i][\"place_name\"];\n      console.log(options[i]);\n      console.log(1);\n    } \n  }\n  //console.log(Boolean(this.state.data));\n    return (\n      <div className=\"locationSearchBar\">\n        <input type=\"text\" placeholder=\"Location\" onChange={this.handleChange}/>\n        <ul>\n          <li>\n            {this.state.data && this.state.data.features[0][\"place_name\"]}\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default LocationSearchBar;"]},"metadata":{},"sourceType":"module"}