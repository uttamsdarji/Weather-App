{"ast":null,"code":"var _jsxFileName = \"/Users/uttamdarji/Desktop/weather/src/components/LocationSearchBar/LocationSearchBar.js\";\nimport React from 'react';\n\nclass LocationSearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      if (e.target.value.length > 0) {\n        this.fetchDataByText(e.target.value); // let options = [];\n        // for(let i=0; i<5; i++) {\n        //   options[i].push(this.data.features[i][\"place_name\"]);\n        // }\n\n        if (this.state.data) {\n          this.setState({\n            queryText: e.target.value,\n            options: this.state.data.features\n          });\n        }\n      } else {\n        this.setState({\n          data: null,\n          queryText: \"\"\n        });\n      }\n    };\n\n    this.handleClick = e => {\n      //let target= e.target.getAttribute('indexkey');\n      // for(let key in target){\n      // console.log(target[key]);}\n      let latitude = e.target.getAttribute('latitude');\n      let longitude = e.target.getAttribute('longitude');\n      this.props.setLatLong(latitude, longitude);\n      this.setState({\n        queryText: e.target.getAttribute('text'),\n        options: []\n      });\n    };\n\n    this.fetchDataByText = queryText => {\n      const url = 'https://api.mapbox.com/geocoding/v5/mapbox.places/' + queryText + '.json?access_token=pk.eyJ1IjoidXNkYXJqaSIsImEiOiJjanhvbnNqY2QwODczM21ybnJybGUzM3l0In0.hUTTdbflff_BO_c7S3MldQ';\n      fetch(url).then(results => results.json()).then(sdata => {\n        this.setState({\n          data: sdata\n        });\n      });\n    };\n\n    this.state = {\n      data: null,\n      queryText: \"\",\n      options: []\n    };\n  }\n\n  render() {\n    let options = [];\n    const coordinates = {\n      latitude: \"\",\n      longitude: \"\"\n    };\n\n    if (this.state.data) {\n      if (this.state.options) {\n        for (let i = 0; i < 5; i++) {\n          coordinates.latitude = this.state.data.features[i].geometry.coordinates[0];\n          coordinates.longitude = this.state.data.features[i].geometry.coordinates[1];\n          let data = this.state.data.features[i]; //console.log(indexKey);\n\n          options[i] = React.createElement(\"li\", {\n            latitude: data.geometry.coordinates[1],\n            longitude: data.geometry.coordinates[0],\n            text: data.text,\n            key: this.state.data.features[i].id,\n            onClick: this.handleClick,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73\n            },\n            __self: this\n          }, this.state.options[i][\"place_name\"]);\n        }\n      }\n    }\n\n    return React.createElement(\"div\", {\n      className: \"locationSearchBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.handleChange,\n      value: this.state.queryText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      className: \"searchList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, options));\n  }\n\n}\n\nexport default LocationSearchBar;","map":{"version":3,"sources":["/Users/uttamdarji/Desktop/weather/src/components/LocationSearchBar/LocationSearchBar.js"],"names":["React","LocationSearchBar","Component","constructor","props","handleChange","e","target","value","length","fetchDataByText","state","data","setState","queryText","options","features","handleClick","latitude","getAttribute","longitude","setLatLong","url","fetch","then","results","json","sdata","render","coordinates","i","geometry","text","id"],"mappings":"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","sourcesContent":["import React from 'react';\n\n\nclass LocationSearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data : null,\n      queryText: \"\",\n      options: [],\n    };\n  }\n  \n  handleChange = (e) => {\n    if(e.target.value.length>0) {\n      this.fetchDataByText(e.target.value);\n      // let options = [];\n      // for(let i=0; i<5; i++) {\n      //   options[i].push(this.data.features[i][\"place_name\"]);\n      // }\n      if(this.state.data){\n        this.setState({\n          queryText: e.target.value,\n          options: this.state.data.features,\n        });\n      }\n      \n    } else {\n      this.setState({\n        data: null,\n        queryText: \"\",\n      });\n    }\n  };\n\n  handleClick = (e) => {\n    //let target= e.target.getAttribute('indexkey');\n    // for(let key in target){\n    // console.log(target[key]);}\n    let latitude = e.target.getAttribute('latitude');\n    let longitude = e.target.getAttribute('longitude');\n    this.props.setLatLong(latitude,longitude);\n    this.setState({\n      queryText: e.target.getAttribute('text'),\n      options: [],\n    });\n  }\n\n  fetchDataByText = (queryText) => {\n    const url = 'https://api.mapbox.com/geocoding/v5/mapbox.places/'+queryText+'.json?access_token=pk.eyJ1IjoidXNkYXJqaSIsImEiOiJjanhvbnNqY2QwODczM21ybnJybGUzM3l0In0.hUTTdbflff_BO_c7S3MldQ';\n    fetch(url)\n    .then(results => results.json())\n    .then((sdata) => {\n      this.setState({\n        data : sdata,\n      });\n    });\n  }\n\n  render() {\n    let options=[];\n    const coordinates = {\n      latitude: \"\",\n      longitude: \"\"\n    };\n    if(this.state.data){\n    if(this.state.options) {\n      for(let i=0; i<5; i++) {\n        coordinates.latitude=this.state.data.features[i].geometry.coordinates[0];\n        coordinates.longitude=this.state.data.features[i].geometry.coordinates[1];\n        let data= this.state.data.features[i];\n        //console.log(indexKey);\n        options[i]=<li \n                    latitude={data.geometry.coordinates[1]}\n                    longitude={data.geometry.coordinates[0]}\n                    text={data.text}\n                    key={this.state.data.features[i].id}\n                    onClick={this.handleClick}\n                    >\n                    {this.state.options[i][\"place_name\"]}\n                  </li>\n      } \n    }\n    \n  }\n  \n    return (\n      <div className=\"locationSearchBar\">\n        <input type=\"text\" onChange={this.handleChange} value={this.state.queryText} />\n        <ul className=\"searchList\">\n          {options}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default LocationSearchBar;"]},"metadata":{},"sourceType":"module"}